<html>
<body>

<img src="http://www.tinyos.net/scoop/images/tos-jwall.jpg"></img>

<!-- <h1>Getting involved</h1> -->
<!-- <ul> -->
<!-- <li> <a href="#contributing_code">Contributing code</a> -->
<!-- <li> <a href="#working_group">Forming a working group</a> -->
<!-- <li> <a href="#bug_report">Submitting a bug report</a> -->
<!-- </ul> -->

<a name="contributing_code"></a>
<h1>Contributing Code</h1>
<p>
We welcome code contributions to the TinyOS source code base and have tried to make 
contributing code as easy as possible. Code can be contributed to either TinyOS 1.x or 
TinyOS 2.x, and the process for contributing code to either is essentially the same with 
a few minor differences.  In order to contribute code to either code base, you must first 
obtain a SourceForge developer account.  If you don't have an account yet, see 
<a href="http://www.sourceforge.net/">SourceForge</a> for details on how 
to get one.
</p>
<p>
Once you have obtained your SourceForge user account send an email to 
<a href="mailto:tinyos-contrib-caretakers@millennium.berkeley.edu">tinyos-contrib-caretakers@millennium.berkeley.edu</a>
indicating your intent to contribute code.  Depending on whether you would like to contribute
code to TinyOS 1.x or TinyOS 2.x the information that must be provided in the email and the 
process of actually contributing it slightly is different.
</p>

<p>
It should be noted that since all contributed code is ultimately stored in a CVS repository it is highly discouraged to contribute anything not directly related to the code or documentation supporting a project under development.  For example, video, audio, or sensor data gathered using the code contributed for your project should NOT be committed to the CVS repository.  If you want others to have access to data of this type, you should instead provide some documentation pointing them to a location where it can be downloaded from (e.g. a webpage maintained on your local server).
</p>

<h3>Contributing Code to TinyOS 1.x</h3>
<p>
If you are contributing code to TinyOS 1.x then you only need to provide the following 
information in your email:
<ol>
<li> Your intent to contribute code to TinyOS 1.x and not TinyOS 2.x
<li> A list of SourceForge developer usernames you would like to be given access for contributing code
</ol>
Once you receive a confirmation email indicating that your users have been granted developer 
access, you should be ready to go.  Simply checkout the tinyos-1.x source tree from SourceForge 
following the instructions found <a href="http://sourceforge.net/cvs/?group_id=28656">here</a>, 
and create your project directory under tinyos-1.x/contrib.  Make sure you follow the directions for
<b>"Developer CVS Access via SSH"</b> and that you use <i>tinyos-1.x</i> as the module name
when checking out the tree.  If you are unfamiliar with CVS and how to use it,
a short tutorial to get you started can be found
<a href="http://www.star.bnl.gov/STAR/sds_l/ssd_l/cvs_tutorial.html">here</a>. 
</p>
<p>
Once you have been granted access, you will have free reign to create and modify any directories or
files located under tinyos-1.x/contrib.  You should create directories of your own in order 
to organize your code and keep it separate from everyone elses.  Some developers like to name their 
directories after the institution they are affiliated with (e.g. ucb, wustl, motiv, xbow).  Others 
like to name them after the project their code is associated with (e.g. s-mac, mate, nucleus).  
It is entirely up to you how to organize them.  If you would like write access to a particular directory 
restricted to a specific set of users, please send an email to 
<a href="mailto:tinyos-contrib-caretakers@millennium.berkeley.edu">tinyos-contrib-caretakers@millennium.berkeley.edu</a>
and we will accomodate your request as best we can.  
</p>

<h3>Contributing Code to TinyOS 2.x</h3>
<p>
The process for contributing code to TinyOS 2.x is a little stricter than for TinyOS 1.x.  A set of 
caretakers have been assigned to ensure that any contributed code follows a certain set of guidelines.
When sending an email requesting access to contribute code for TinyOS 2.x please include the following 
information:
</p>
<ol>
<li> Your intent to contribute code to TinyOS 2.x and not TinyOS 1.x.
<li> The name of a directory underneath which all of your contributed code will be contained.
<li> The name and email address of someone who will act as the point of contact for maintaining that directory
<li> A list of SourceForge developer usernames you would like to be given access for contributing code underneath that directory.
<li> A short description of any projects you plan to develop inside of that directory.  Please 
write one to three sentences about each project for inclusion in an index that lists all contributed
code.  You can always write another email later if you start working on other projects and you want them included in the index as well.  
</ol>
Once you receive a confirmation email indicating that your users have been granted developer 
access, you can checkout the tinyos-2.x-contrib source tree from SourceForge 
following the instructions found <a href="http://sourceforge.net/cvs/?group_id=28656">here</a>.
Make sure you follow the directions for
<b>"Developer CVS Access via SSH"</b> and that you use <i>tinyos-2.x-contrib</i> as the module name
when checking out the tree.  If you are unfamiliar with CVS and how to use it to commit your code,
a short tutorial to get you started can be found
<a href="http://www.star.bnl.gov/STAR/sds_l/ssd_l/cvs_tutorial.html">here</a>. 
</p>
<p>
Unlike in TinyOS 1.x where developers have free reign to commit files anywhere they please underneath 
tinyos-1.x/contrib, commit access is restricted under tinyos-2.x-contrib to the specific 
directory created for each group.  It is highly encouraged to have this directory named after the institution the developers working on a project are affiliatd with.  For pojects being developed across multiple institutions, however, it may be apropriate to specify a project name instead of an institution.
The reason we encourage the use of an institution name over a project name is that most of the time a single institution tends to contribute code from multiple projects. 
</p>
<p>
One of the duties of the TinyOS 2.x contrib caretakers is to ensure that the organization of any contributed code mimics the organization in the tinyos-2.x core.  By mimicing this organization, it is easier for anyone wanting to use this code to navigate it and understand its structure.  It is also easier to migrate it into the core if its status ever gets promoted.  This does not mean that code from the core should be replicated in these directories, but rather that any newly contributed code should try and follow a similar structure.  For example, the directory structure would look like the following for someone at UCLA developing a set of libraries and applications:
</p>

<pre>
tinyos-2.x-contrib
|-- ucla
|   |-- apps
|   |   |-- uclaApp0
|   |   |-- uclaApp1
|   |-- lib
|   |   |-- uclaLib0
|   |   |-- uclaLib1
</pre>

<p>
For an institution working on the development of two new platforms that contain a set of new chips and platform specific code, the directory structure might look like this.
</p>

<pre>
tinyos-2.x-contrib
|-- institution_name
|   |-- chips
|   |   |-- mcuChip
|   |   |-- chip1
|   |   |-- chip2
|   |-- platforms
|   |   |-- platform0
|   |   |   |-- .platform
|   |   |-- platform1
|   |   |   |-- .platform
|   |-- support
|   |   |-- make
|   |   |   |-- mcuChip
|   |   |   |   |-- mcuChip.rules
|   |   |   |-- platform0.extra
|   |   |   |-- platform1.extra
</pre>

<p>
In general, code should be organized within the following set of directories:
</p>

<pre>
|-- apps
|-- chips
|-- libs
|-- platforms
|-- sensorboards
|-- support
|   |-- make
|   |-- sdk
|-- system
|-- tools
</pre>

If you would like any or all of these directories to be created for you at the time your top level directory is created please indicate so in your email to 
<a href="mailto:tinyos-contrib-caretakers@millennium.berkeley.edu">tinyos-contrib-caretakers@millennium.berkeley.edu</a>.

<p>
Another duty of the TinyOS 2.x contrib caretakers is to maintain an index of any contributed code.  This index is located directly underneath the tinyos-2.x-contrib directory in a file called 
<a href="http://tinyos.cvs.sourceforge.net/*checkout*/tinyos/tinyos-2.x-contrib/index.html/">index.html</a>. 
All contributed projects will be included in this index with the following information:
<ul>
<li> The name of the project
<li> The name and email address of the developer in charge of maintaining the project
<li> The name of the institution working on the project
<li> The date the project was entered into the index
<li> A short two or three sentence description of the project
</ul>
The name of the project will contain a link to a local index.html file created for you underneath your top level directory.  This file is used to document the projects contained in that directory.  Some people will prefer to write their project documentaton directly within their local.html file and others will prefer to use this file to redirect users to another webpage maintained on a different server.  Either way is fine as long as some sort of documentation is provided.
</p>
<p>
Depending on the status of each project including how well they adhere to the organizational guidelines outlined above and how detailed their index.html files are, different projects will be be organized into different categories.  
<ul>
<li><b>Stable and Supported Projects</b> contain code that follows the organizational guidelines outlined above and are in a stable operating state. Their local index.html files document their project in detail.  Projects move into this category once they are mostly completed and are only maintained by minor bug fixes and improvements.
<li><b>Experimental but Supported Projects</b> contain code that follows the organizational structure outlined above but is in a constant state of flux.  Their local index.html files still need to provide a more detailed overveiw of the project than what is contained in the index, but they do not need to be as comprehensive as for stable projects.  
<li><b>Unsupported Projects</b> contain code that does not adhere to the organizational structure outlined above and/or does not provide sufficient documentation describing them.
</ul>
Whenever a project is newly created it will be entered into the index as an "Unsupported Project".  It will only be promoted to another category after sufficient evidence has been given that it belongs there.  When you think your project is ready to be moved into another category, just send an 
<a href="mailto:tinyos-contrib-caretakers@millennium.berkeley.edu">email to the caretakers</a>
with the reasons you think it should be promoted and they will decide if it is ready or not.  Promotion will be taken on a case by case basis and is under the descration of the caretakers themselves.
</p>

<p>
Note that if code has existed in the repository in either the "Experimental or Unstable" categories for more than 6 months without being promoted to "Stable", an email will be sent to whoever is in charge of maintaining that project.  If there is no response after 1 week, a second email will be sent.  If after another week there is still no response, the project and all of its contents will be removed from the repository.  In order to make sure that this doesn't happen to your code, make sure that you keep the contrib caretakers up to date with who is the current maintainer of each of your projects and that you organize all of your code appropriately.  If you have any questions about whether your organization is correct or not, you would like to change your point of contact, or you feel that your code is ready to be promoted from one category to another, you can
<a href="mailto:tinyos-contrib-caretakers@millennium.berkeley.edu">email the caretakers</a> at any time.
</p>

</body>
</html>
